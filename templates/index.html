<!DOCTYPE html>
<meta charset="utf-8">
<style>

    .tract {
        fill: white
    }

    .tract:hover {
        fill: orange;
    }

    /*.tract-border {*/
        /*fill: black;*/
        /*stroke: #fff;*/
        /*stroke-width: 1px;*/
        /*stroke-linejoin: round;*/
        /*stroke-linecap: round;*/
        /*pointer-events: none;*/
    /*}*/

    path {
        fill: none;
        stroke: #000;
        stroke-width: .5px;
        stroke-linejoin: round;
        stroke-linecap: round;
    }

</style>
<body>
<script src="//d3js.org/d3.v3.min.js"></script>
<script src="//d3js.org/topojson.v1.min.js"></script>
<script>
    var g_tracts;

    var width = 600,
        height = 700,
        active = d3.select(null);


    var path = d3.geo.path()
        .projection(null);

    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height);

    svg.append("rect")
        .attr("class", "background")
        .attr("width", width)
        .attr("height", height);

    var g = svg.append("g")
        .style("stroke-width", "1.5px");

    d3.json("../static/GA_map/ca-simple-topo.json", function(error, ny) {
        if (error) throw error;

        var tracts = ny.objects.tracts;
        g_tracts = tracts

        g.selectAll("path")
            .data(topojson.feature(ny, tracts).features)
            .enter().append("path")
            .attr("class", "tract")
            .attr("d", path)
//            .on("click", clicked)
            .style("fill", function(d){
                if (d.properties.COUNTYFP == "121") {
                    console.log(d.properties)
                    return "yellow"
                }
            })
            .append("title")
            .text(function(d, i) { return d.id; });


        g.append("path")
            .attr("class", "tract-border")
            .datum(topojson.mesh(ny))
            .attr("d", path);

        g.transition()
            .style("stroke-width", 1.5 / 4 + "px")
            .attr("transform", "translate(" + "-700, -700" + ")scale(4)");

        console.log(g)
    });


    d3.select(self.frameElement).style("height", height + "px");

</script>